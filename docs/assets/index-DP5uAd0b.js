(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();document.getElementById("year").textContent=new Date().getFullYear();const g=document.getElementById("menuBtn"),a=document.getElementById("nav");g?.addEventListener("click",()=>a.classList.toggle("nav--open"));a&&a.classList.remove("nav--open");const r=document.getElementById("contactForm"),c=document.getElementById("formMsg");r?.addEventListener("submit",async n=>{n.preventDefault(),c.textContent="Enviando…";const o=new FormData(r);try{(await fetch(r.action,{method:"POST",body:o,headers:{Accept:"application/json"}})).ok?(r.reset(),c.textContent="¡Gracias! Te contactaremos pronto."):c.textContent="No se pudo enviar. Prueba más tarde."}catch{c.textContent="Error de red. Inténtalo de nuevo."}});const m=document.getElementById("cc-banner"),p=document.getElementById("cc-accept"),y=document.getElementById("cc-reject"),f="mlr-consent",d=localStorage.getItem(f);d||m?.classList.remove("hidden");function i(n){window.gtag&&gtag("consent","update",{analytics_storage:n?"granted":"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"}),localStorage.setItem(f,n?"granted":"denied"),m?.classList.add("hidden")}p?.addEventListener("click",()=>i(!0));y?.addEventListener("click",()=>i(!1));d&&i(d==="granted");
